{"version":3,"sources":["main.js"],"names":["formLoc","document","querySelector","successSendingMessageLoc","nameLoc","mailLoc","subjectLoc","messageLoc","sendingInfoLoc","buttonLoc","validationPass","validateEmpty","input","turnOnErrorShow","value","length","nextElementSibling","innerText","classList","remove","add","validateEmail","String","toLowerCase","match","addEventListener","e","target","preventDefault","console","log","disabled","formData","FormData","url","getAttribute","method","fetch","toUpperCase","body","then","res","json","errors","status","style","opacity","visibility","reset","setTimeout","catch","err","finally","markActivedInput","unmarkActivedInput","hamburgerLoc","mobileMenuLoc","hamburgerBarsLoc","toggle","querySelectorAll","forEach","elem"],"mappings":"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","file":"all.min.js","sourcesContent":["// contact form validation\r\n\r\nconst formLoc = document.querySelector(\"#contact-form\");\r\nconst successSendingMessageLoc = document.querySelector(\".successSendingMessage\");\r\n\r\nconst nameLoc = document.querySelector(\"#name\");\r\nconst mailLoc = document.querySelector(\"#mail\");\r\nconst subjectLoc = document.querySelector(\"#subject\");\r\nconst messageLoc = document.querySelector(\"#message\");\r\n\r\nconst sendingInfoLoc = document.querySelector(\".sending-info\");\r\nconst buttonLoc = document.querySelector(\"button\");\r\n\r\nlet validationPass;\r\n\r\nconst validateEmpty = (input, turnOnErrorShow) => {\r\n    if (!input.value.length) {\r\n        if (turnOnErrorShow) {\r\n            input.nextElementSibling.innerText = \"To pole jest wymagane.\";\r\n            input.classList.add(\"error\");\r\n            validationPass = false;\r\n        }\r\n    } else if (input.nextElementSibling.innerText === \"To pole jest wymagane.\") {\r\n        input.nextElementSibling.innerText = \"\";\r\n        input.classList.remove(\"error\");\r\n    }\r\n}\r\n\r\nconst validateEmail = (input, turnOnErrorShow) => {\r\n    if (input.value.length) {\r\n        if (!String(input.value).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)) {\r\n            if (turnOnErrorShow) {\r\n                input.nextElementSibling.innerText = \"Nieprawidłowy adres e-mail.\";\r\n                input.classList.add(\"error\");\r\n                validationPass = false;\r\n            }\r\n        } else if (input.nextElementSibling.innerText === \"Nieprawidłowy adres e-mail.\") {\r\n            input.nextElementSibling.innerText = \"\";\r\n            input.classList.remove(\"error\");\r\n        }\r\n    } else if (input.nextElementSibling.innerText === \"Nieprawidłowy adres e-mail.\") {\r\n        input.nextElementSibling.innerText = \"\";\r\n        input.classList.remove(\"error\");\r\n    }\r\n}\r\n\r\nnameLoc.addEventListener(\"keyup\", (e) => {\r\n    validateEmpty(e.target, false); \r\n});\r\n\r\nmailLoc.addEventListener(\"keyup\", (e) => {\r\n    validateEmpty(e.target, false); \r\n    validateEmail(e.target, false); \r\n});\r\nmailLoc.addEventListener(\"blur\", (e) => {\r\n    validateEmail(e.target, true); \r\n});\r\n\r\nsubjectLoc.addEventListener(\"keyup\", (e) => {\r\n    validateEmpty(e.target, false); \r\n});\r\n\r\nmessageLoc.addEventListener(\"keyup\", (e) => {\r\n    validateEmpty(e.target, false); \r\n});\r\n\r\nbuttonLoc.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n\r\n    sendingInfoLoc.innerText = \"\";\r\n    sendingInfoLoc.classList.remove(\"success-info\");\r\n    sendingInfoLoc.classList.remove(\"error-info\");\r\n\r\n    validationPass = true;\r\n    validateEmpty(nameLoc, true); \r\n    validateEmpty(mailLoc, true); \r\n    validateEmail(mailLoc, true); \r\n    validateEmpty(subjectLoc, true); \r\n    validateEmpty(messageLoc, true); \r\n\r\n    if (validationPass) {\r\n        console.log(\"Walidacja prawidłowa! :)\");\r\n\r\n        buttonLoc.classList.add(\"loading\");\r\n        buttonLoc.disabled = true;\r\n        \r\n        const formData = new FormData(formLoc);\r\n        const url = formLoc.getAttribute(\"action\");\r\n        const method = formLoc.getAttribute(\"method\");\r\n        \r\n        fetch(url, {\r\n            method: method.toUpperCase(),\r\n            body: formData\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            console.log(res);\r\n            if (res.errors) { \r\n                console.log(\"Niektóre pola formularza są niepoprawnie wypełnione.\");\r\n                sendingInfoLoc.innerText = \"Niektóre pola formularza są niepoprawnie wypełnione.\";\r\n                sendingInfoLoc.classList.add(\"error-info\");\r\n                buttonLoc.classList.remove(\"loading\");\r\n                buttonLoc.disabled = false;\r\n            } else { \r\n                if (res.status === \"ok\") {\r\n                    console.log(\"Wiadomość wysłana pomyślnie.\");\r\n                    // sendingInfoLoc.innerText = \"Wiadomość wysłana pomyślnie.\";\r\n                    // sendingInfoLoc.classList.add(\"success-info\");\r\n                    buttonLoc.classList.remove(\"loading\");\r\n                    buttonLoc.disabled = false;\r\n                    // wyświetla wiadomość\r\n                    formLoc.style.opacity = \"0\";\r\n                    successSendingMessageLoc.style.opacity = \"1\";\r\n                    successSendingMessageLoc.style.visibility = \"visible\";\r\n                    formLoc.reset();\r\n                    setTimeout(() => {\r\n                        formLoc.style.opacity = \"1\";\r\n                        successSendingMessageLoc.style.opacity = \"0\";\r\n                        successSendingMessageLoc.style.visibility = \"hidden\";\r\n                    }, 4000);\r\n                }\r\n                if (res.status === \"error\") {\r\n                    console.log(\"Wiadomości nie wysłano.\");\r\n                    sendingInfoLoc.innerText = \"Wiadomości nie wysłano.\";\r\n                    sendingInfoLoc.classList.add(\"error-info\");\r\n                    buttonLoc.classList.remove(\"loading\");\r\n                    buttonLoc.disabled = false;\r\n                }\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            buttonLoc.classList.remove(\"loading\");\r\n            buttonLoc.disabled = false;\r\n            console.log(err)\r\n        })\r\n        .finally(() => {\r\n            buttonLoc.classList.remove(\"loading\");\r\n            buttonLoc.disabled = false;\r\n            \r\n        })\r\n    } else {\r\n        console.log(\"Walidacja nieprawidłowa! :(\");\r\n    }\r\n});\r\n\r\nconst markActivedInput = (input) => {\r\n    input.classList.add(\"active\");\r\n}\r\n\r\nconst unmarkActivedInput = (input) => {\r\n    input.classList.remove(\"active\");\r\n}\r\n\r\nnameLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\nnameLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\nmailLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\nmailLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\nsubjectLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\nsubjectLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\nmessageLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\nmessageLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\n// mobile menu\r\n\r\nconst hamburgerLoc = document.querySelector(\".hamburger\");\r\nconst mobileMenuLoc = document.querySelector(\"header nav > ul\");\r\nconst hamburgerBarsLoc = document.querySelector(\".hamburger .bars\");\r\n\r\nhamburgerLoc.addEventListener(\"click\", () => {\r\n    mobileMenuLoc.classList.toggle(\"show\");\r\n    hamburgerBarsLoc.classList.toggle(\"ham\");\r\n\r\n    const mobileMenuElemLoc = document.querySelectorAll(\"header nav ul.show li a\");\r\n \r\n    mobileMenuElemLoc.forEach(elem => {\r\n        elem.addEventListener(\"click\", () => {\r\n            console.log(\"SDFSGDF\")\r\n            mobileMenuLoc.classList.remove(\"show\");\r\n            hamburgerBarsLoc.classList.add(\"ham\");\r\n        });\r\n    });\r\n});\r\n\r\n\r\n    \r\n    \r\n\r\n\r\n\r\n"]}
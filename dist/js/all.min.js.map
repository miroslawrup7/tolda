{"version":3,"sources":["main.js"],"names":["formLoc","document","querySelector","successSendingMessageLoc","nameLoc","surnameLoc","telLoc","tentLoc","dateLoc","messageLoc","sendingInfoLoc","buttonLoc","validationPass","validateEmpty","input","turnOnErrorShow","value","length","nextElementSibling","innerText","classList","remove","add","validateEmail","String","toLowerCase","match","addEventListener","e","target","preventDefault","console","log","disabled","formData","FormData","url","getAttribute","method","fetch","toUpperCase","body","then","res","json","errors","status","style","opacity","visibility","reset","setTimeout","catch","err","finally","markActivedInput","unmarkActivedInput","hamburgerLoc","mobileMenuLoc","hamburgerBarsLoc","toggle","querySelectorAll","forEach","elem"],"mappings":"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","file":"all.min.js","sourcesContent":["// contact form validation\r\n\r\nconst formLoc = document.querySelector(\"#contact-form\");\r\nconst successSendingMessageLoc = document.querySelector(\".successSendingMessage\");\r\n\r\nconst nameLoc = document.querySelector(\"#name\");\r\nconst surnameLoc = document.querySelector(\"#surname\");\r\nconst telLoc = document.querySelector(\"#tel\");\r\nconst tentLoc = document.querySelector(\"#tent\");\r\nconst dateLoc = document.querySelector(\"#date\");\r\nconst messageLoc = document.querySelector(\"#message\");\r\n\r\nconst sendingInfoLoc = document.querySelector(\".sending-info\");\r\nconst buttonLoc = document.querySelector(\"form button\");\r\n\r\nlet validationPass;\r\n\r\nconst validateEmpty = (input, turnOnErrorShow) => {\r\n    if (!input.value.length) {\r\n        if (turnOnErrorShow) {\r\n            input.nextElementSibling.innerText = \"To pole jest wymagane.\";\r\n            input.classList.add(\"error\");\r\n            validationPass = false;\r\n        }\r\n    } else if (input.nextElementSibling.innerText === \"To pole jest wymagane.\") {\r\n        input.nextElementSibling.innerText = \"\";\r\n        input.classList.remove(\"error\");\r\n    }\r\n}\r\n\r\nconst validateEmail = (input, turnOnErrorShow) => {\r\n    if (input.value.length) {\r\n        if (!String(input.value).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)) {\r\n            if (turnOnErrorShow) {\r\n                input.nextElementSibling.innerText = \"Nieprawidłowy adres e-mail.\";\r\n                input.classList.add(\"error\");\r\n                validationPass = false;\r\n            }\r\n        } else if (input.nextElementSibling.innerText === \"Nieprawidłowy adres e-mail.\") {\r\n            input.nextElementSibling.innerText = \"\";\r\n            input.classList.remove(\"error\");\r\n        }\r\n    } else if (input.nextElementSibling.innerText === \"Nieprawidłowy adres e-mail.\") {\r\n        input.nextElementSibling.innerText = \"\";\r\n        input.classList.remove(\"error\");\r\n    }\r\n}\r\n\r\nnameLoc.addEventListener(\"keyup\", (e) => {\r\n    validateEmpty(e.target, false); \r\n});\r\n\r\nsurnameLoc.addEventListener(\"keyup\", (e) => {\r\n    validateEmpty(e.target, false); \r\n});\r\n\r\ntelLoc.addEventListener(\"keyup\", (e) => {\r\n    validateEmpty(e.target, false); \r\n});\r\n\r\ntentLoc.addEventListener(\"keyup\", (e) => {\r\n    validateEmpty(e.target, false); \r\n});\r\n\r\n\r\n\r\nbuttonLoc.addEventListener(\"click\", (e) => {\r\n    e.preventDefault();\r\n\r\n    sendingInfoLoc.innerText = \"\";\r\n    sendingInfoLoc.classList.remove(\"success-info\");\r\n    sendingInfoLoc.classList.remove(\"error-info\");\r\n\r\n    validationPass = true;\r\n    validateEmpty(nameLoc, true); \r\n    validateEmpty(surnameLoc, true); \r\n    validateEmpty(telLoc, true); \r\n    validateEmpty(tentLoc, true); \r\n\r\n    \r\n\r\n    if (validationPass) {\r\n        console.log(\"Walidacja prawidłowa! :)\");\r\n\r\n        buttonLoc.classList.add(\"loading\");\r\n        buttonLoc.disabled = true;\r\n        \r\n        const formData = new FormData(formLoc);\r\n        const url = formLoc.getAttribute(\"action\");\r\n        const method = formLoc.getAttribute(\"method\");\r\n        \r\n        fetch(url, {\r\n            method: method.toUpperCase(),\r\n            body: formData\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            console.log(res);\r\n            if (res.errors) { \r\n                console.log(\"Niektóre pola formularza są niepoprawnie wypełnione.\");\r\n                sendingInfoLoc.innerText = \"Niektóre pola formularza są niepoprawnie wypełnione.\";\r\n                sendingInfoLoc.classList.add(\"error-info\");\r\n                buttonLoc.classList.remove(\"loading\");\r\n                buttonLoc.disabled = false;\r\n            } else { \r\n                if (res.status === \"ok\") {\r\n                    console.log(\"Wiadomość wysłana pomyślnie.\");\r\n                    // sendingInfoLoc.innerText = \"Wiadomość wysłana pomyślnie.\";\r\n                    // sendingInfoLoc.classList.add(\"success-info\");\r\n                    buttonLoc.classList.remove(\"loading\");\r\n                    buttonLoc.disabled = false;\r\n                    // wyświetla wiadomość\r\n                    formLoc.style.opacity = \"0\";\r\n                    successSendingMessageLoc.style.opacity = \"1\";\r\n                    successSendingMessageLoc.style.visibility = \"visible\";\r\n                    formLoc.reset();\r\n                    setTimeout(() => {\r\n                        formLoc.style.opacity = \"1\";\r\n                        successSendingMessageLoc.style.opacity = \"0\";\r\n                        successSendingMessageLoc.style.visibility = \"hidden\";\r\n                    }, 4000);\r\n                }\r\n                if (res.status === \"error\") {\r\n                    console.log(\"Wiadomości nie wysłano.\");\r\n                    sendingInfoLoc.innerText = \"Wiadomości nie wysłano.\";\r\n                    sendingInfoLoc.classList.add(\"error-info\");\r\n                    buttonLoc.classList.remove(\"loading\");\r\n                    buttonLoc.disabled = false;\r\n                }\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            buttonLoc.classList.remove(\"loading\");\r\n            buttonLoc.disabled = false;\r\n            console.log(err)\r\n        })\r\n        .finally(() => {\r\n            buttonLoc.classList.remove(\"loading\");\r\n            buttonLoc.disabled = false;\r\n            \r\n        })\r\n    } else {\r\n        console.log(\"Walidacja nieprawidłowa! :(\");\r\n    }\r\n});\r\n\r\nconst markActivedInput = (input) => {\r\n    input.classList.add(\"active\");\r\n}\r\n\r\nconst unmarkActivedInput = (input) => {\r\n    input.classList.remove(\"active\");\r\n}\r\n\r\nnameLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\nnameLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\nsurnameLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\nsurnameLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\ntelLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\ntelLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\ntentLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\ntentLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\ndateLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\ndateLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\nmessageLoc.addEventListener(\"focus\", (e) => {\r\n    markActivedInput(e.target); \r\n});\r\nmessageLoc.addEventListener(\"blur\", (e) => {\r\n    unmarkActivedInput(e.target); \r\n});\r\n\r\n\r\n// mobile menu\r\n\r\nconst hamburgerLoc = document.querySelector(\".hamburger\");\r\nconst mobileMenuLoc = document.querySelector(\"header nav > ul\");\r\nconst hamburgerBarsLoc = document.querySelector(\".hamburger .bars\");\r\n\r\nhamburgerLoc.addEventListener(\"click\", () => {\r\n    mobileMenuLoc.classList.toggle(\"show\");\r\n    hamburgerBarsLoc.classList.toggle(\"ham\");\r\n\r\n    const mobileMenuElemLoc = document.querySelectorAll(\"header nav ul.show li a\");\r\n \r\n    mobileMenuElemLoc.forEach(elem => {\r\n        elem.addEventListener(\"click\", () => {\r\n            mobileMenuLoc.classList.remove(\"show\");\r\n            hamburgerBarsLoc.classList.add(\"ham\");\r\n        });\r\n    });\r\n});\r\n\r\n\r\n    \r\n    \r\n\r\n\r\n\r\n"]}